Version 4
SHEET 1 1088 1120
WIRE -1280 -848 -1280 -928
WIRE -1616 -800 -1616 -832
WIRE -1344 -800 -1504 -800
WIRE -2144 -784 -2144 -832
WIRE -2144 -784 -2240 -784
WIRE -2048 -784 -2144 -784
WIRE -832 -768 -832 -896
WIRE -2240 -752 -2240 -784
WIRE -2048 -752 -2048 -784
WIRE -1664 -720 -1840 -720
WIRE -1280 -688 -1280 -752
WIRE -1280 -688 -1392 -688
WIRE -1168 -688 -1280 -688
WIRE -976 -688 -1168 -688
WIRE -880 -688 -896 -688
WIRE -2240 -624 -2240 -672
WIRE -2048 -624 -2048 -672
WIRE -1280 -624 -1280 -688
WIRE -832 -624 -832 -672
WIRE -2144 -576 -2176 -576
WIRE -2112 -576 -2144 -576
WIRE -1616 -560 -1616 -704
WIRE -1392 -528 -1392 -688
WIRE -1168 -528 -1168 -688
WIRE -2240 -512 -2240 -528
WIRE -2144 -512 -2144 -576
WIRE -2144 -512 -2240 -512
WIRE -1280 -496 -1280 -544
WIRE -1200 -496 -1280 -496
WIRE -832 -496 -832 -544
WIRE -704 -496 -832 -496
WIRE -608 -496 -704 -496
WIRE -832 -464 -832 -496
WIRE -2240 -448 -2240 -512
WIRE -2048 -432 -2048 -528
WIRE -1840 -432 -1840 -720
WIRE -1840 -432 -2048 -432
WIRE -1280 -432 -1280 -496
WIRE -832 -320 -832 -384
WIRE -832 -320 -1040 -320
WIRE -2048 -304 -2048 -432
WIRE -2000 -304 -2048 -304
WIRE -832 -304 -832 -320
WIRE -1616 -272 -1616 -480
WIRE -1504 -272 -1504 -800
WIRE -1504 -272 -1616 -272
WIRE -1392 -272 -1392 -464
WIRE -1280 -272 -1280 -352
WIRE -1280 -272 -1392 -272
WIRE -1168 -272 -1168 -464
WIRE -1168 -272 -1280 -272
WIRE -1104 -272 -1168 -272
WIRE -2240 -256 -2240 -368
WIRE -2048 -256 -2048 -304
WIRE -976 -224 -1040 -224
WIRE -880 -224 -896 -224
WIRE -2288 -208 -2544 -208
WIRE -1920 -208 -2000 -208
WIRE -1872 -208 -1920 -208
WIRE -1744 -208 -1792 -208
WIRE -1040 -176 -1040 -224
WIRE -2544 -160 -2544 -208
WIRE -1920 -160 -1920 -208
WIRE -2272 -96 -2272 -160
WIRE -2144 -96 -2272 -96
WIRE -2016 -96 -2016 -160
WIRE -2016 -96 -2144 -96
WIRE -1040 -64 -1040 -96
WIRE -832 -64 -832 -208
WIRE -832 -64 -1040 -64
WIRE -2544 -48 -2544 -80
WIRE -1920 -32 -1920 -80
WIRE -832 -32 -832 -64
WIRE -2144 48 -2144 -96
WIRE -928 96 -1040 96
WIRE -832 96 -928 96
WIRE -2048 128 -2080 128
WIRE -1616 128 -1616 -272
WIRE -1280 128 -1280 -272
WIRE -928 128 -928 96
WIRE -1216 176 -1552 176
WIRE -1040 176 -1040 96
WIRE -1040 176 -1216 176
WIRE -992 176 -1040 176
WIRE -2048 192 -2048 128
WIRE -1616 256 -1616 224
WIRE -1280 256 -1280 224
WIRE -928 256 -928 224
WIRE -2144 304 -2144 208
WIRE -2048 304 -2048 272
WIRE -2048 304 -2144 304
WIRE -1616 368 -1616 336
WIRE -1280 368 -1280 336
WIRE -1280 368 -1616 368
WIRE -1040 368 -1280 368
WIRE -928 368 -928 336
WIRE -928 368 -1040 368
WIRE -2144 384 -2144 304
WIRE -1040 400 -1040 368
WIRE -1744 544 -1744 -208
WIRE -704 544 -704 -496
WIRE -704 544 -1744 544
WIRE -336 544 -704 544
WIRE -624 624 -672 624
WIRE -528 624 -560 624
WIRE -496 624 -528 624
WIRE -400 624 -416 624
WIRE -528 768 -528 624
WIRE -528 768 -544 768
WIRE -832 784 -832 96
WIRE -800 784 -832 784
WIRE -672 784 -672 624
WIRE -672 784 -720 784
WIRE -608 784 -672 784
WIRE -528 800 -544 800
WIRE -496 800 -528 800
WIRE -336 800 -336 544
WIRE -336 800 -416 800
WIRE -528 864 -528 800
WIRE -528 944 -528 928
FLAG -2160 -992 0
FLAG -2160 -1072 HT
IOPIN -2160 -1072 Out
FLAG -2032 -992 0
FLAG -2032 -1072 VEE
IOPIN -2032 -1072 Out
FLAG -1616 -832 HT
IOPIN -1616 -832 In
FLAG -1904 -992 0
FLAG -1904 -1072 VCC
IOPIN -1904 -1072 Out
FLAG -576 816 VEE
FLAG -576 752 VCC
FLAG -400 624 0
FLAG -528 944 0
FLAG -608 -496 out
IOPIN -608 -496 Out
FLAG -1040 400 VEE
IOPIN -1040 400 In
FLAG -2544 -48 0
FLAG -2144 -832 HT
IOPIN -2144 -832 In
FLAG -2144 384 VEE
IOPIN -2144 384 In
FLAG -1920 -32 0
FLAG -2000 -304 Va2
IOPIN -2000 -304 Out
FLAG -576 -288 out
IOPIN -576 -288 Out
FLAG -576 -208 0
FLAG -1280 -928 VCC
IOPIN -1280 -928 In
FLAG -832 -896 VCC
IOPIN -832 -896 In
FLAG -832 -32 VEE
IOPIN -832 -32 In
SYMBOL voltage -2160 -1088 R0
SYMATTR InstName V1
SYMATTR Value 60
SYMBOL voltage -2032 -1088 R0
SYMATTR InstName V2
SYMATTR Value -10
SYMBOL npn -1552 128 M0
SYMATTR InstName Q1
SYMATTR Value BC547C
SYMBOL res -1632 -576 R0
SYMATTR InstName R1
SYMATTR Value 2.61k
SYMBOL Opamps/LT1057 -576 720 M0
SYMATTR InstName U1
SYMBOL voltage -1904 -1088 R0
SYMATTR InstName V3
SYMATTR Value 10
SYMBOL res -512 640 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL res -512 816 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 1Meg
SYMBOL cap -560 608 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL cap -512 928 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL npn -992 128 R0
SYMATTR InstName Q3
SYMATTR Value BC547C
SYMBOL res -704 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 549
SYMBOL Misc/triode -2240 -208 R0
SYMATTR InstName U2
SYMATTR Value ECC88
SYMBOL Misc/triode -2048 -208 M0
SYMATTR InstName U3
SYMATTR Value ECC88
SYMBOL voltage -2544 -176 R0
SYMATTR InstName V4
SYMATTR Value SINE(0 0.4 {Fin})
SYMATTR Value2 AC 1
SYMBOL res -2256 -464 R0
SYMATTR InstName R9
SYMATTR Value 16k
SYMBOL res -1936 -176 R0
SYMATTR InstName R10
SYMATTR Value 2k
SYMBOL pnp -2176 -528 R180
SYMATTR InstName Q6
SYMATTR Value BC556A
SYMBOL pnp -2112 -528 M180
SYMATTR InstName Q7
SYMATTR Value BC556A
SYMBOL res -2256 -768 R0
SYMATTR InstName R11
SYMATTR Value 120
SYMBOL res -2064 -768 R0
SYMATTR InstName R12
SYMATTR Value 120
SYMBOL res -1776 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res -1632 240 R0
SYMATTR InstName R14
SYMATTR Value 120
SYMBOL res -944 240 R0
SYMATTR InstName R15
SYMATTR Value 120
SYMBOL res -592 -304 R0
SYMATTR InstName R16
SYMATTR Value {Rload}
SYMBOL nmos -1664 -800 R0
SYMATTR InstName M3
SYMATTR Value 2N7002
SYMBOL npn -1216 128 M0
SYMATTR InstName Q8
SYMATTR Value BC547C
SYMBOL res -1296 240 R0
SYMATTR InstName R17
SYMATTR Value 120
SYMBOL npn -1344 -848 R0
SYMATTR InstName Q9
SYMATTR Value BC547C
SYMBOL Vreg/lm334 -2144 128 R0
SYMATTR InstName U4
SYMBOL res -2064 176 R0
SYMATTR InstName R7
SYMATTR Value {Rset}
SYMBOL nmos -880 -768 R0
SYMATTR InstName M4
SYMATTR Value IRF540
SYMATTR Prefix X
SYMBOL nmos -880 -304 R0
SYMATTR InstName M5
SYMATTR Value IRF540
SYMATTR Prefix X
SYMBOL res -848 -640 R0
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL res -848 -480 R0
SYMATTR InstName R18
SYMATTR Value 1.4
SYMBOL res -1056 -192 R0
SYMATTR InstName R19
SYMATTR Value 1k
SYMBOL res -1296 -640 R0
SYMATTR InstName R4
SYMATTR Value 75k
SYMBOL res -1296 -448 R0
SYMATTR InstName R5
SYMATTR Value {Rbiasset}
SYMBOL References_Add/TLV431 -1168 -496 M0
SYMATTR InstName U5
SYMBOL res -880 -704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 100
SYMBOL res -880 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 100
SYMBOL polcap -1408 -528 R0
SYMATTR InstName C3
SYMATTR Value 47µ
SYMBOL pnp -1104 -224 M180
SYMATTR InstName Q2
SYMATTR Value BC556B
TEXT -2640 -1168 Left 2 !.inc ECC88.inc\n.inc sihf540.lib\n.inc irf510.lib\n.options plotwinsize=0\n.option numdgt=7\n.param Fin = 1k\n.tran 0 {10/Fin} 0 1us\n.four {Fin} V(out)
TEXT -440 -328 Left 2 !.step param Rload list 18 32 250\n*.param Rload = 18\n.param Vbias = 4.6\n*.step param Vbias 4 6 0.2\n.param Rbiasset = 1.24*75k/(Vbias - 1.24)\n*.meas tran Rbs param Rbiasset\n.meas tran Vb param Vbias\n.meas tran Iq avg min(I(R8), I(R18))
TEXT -2096 336 Left 2 !.param Iset = 2mA\n.param Rset = (273.15+25)*227e-6/Iset\n.meas tran Rs param Rset

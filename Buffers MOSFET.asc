Version 4
SHEET 1 2384 1120
WIRE -720 -1216 -720 -1248
WIRE -720 -1216 -864 -1216
WIRE -560 -1216 -720 -1216
WIRE -864 -1184 -864 -1216
WIRE -560 -1184 -560 -1216
WIRE -864 -1040 -864 -1104
WIRE -560 -1040 -560 -1104
WIRE -720 -992 -800 -992
WIRE -624 -992 -720 -992
WIRE 32 -960 32 -1024
WIRE 32 -960 -304 -960
WIRE -864 -912 -864 -944
WIRE -720 -912 -720 -992
WIRE -720 -912 -864 -912
WIRE -304 -912 -304 -960
WIRE -560 -864 -560 -944
WIRE -432 -864 -560 -864
WIRE -368 -864 -432 -864
WIRE 32 -864 32 -960
WIRE -304 -784 -304 -816
WIRE -192 -784 -304 -784
WIRE -16 -784 -112 -784
WIRE -560 -768 -560 -864
WIRE -304 -768 -304 -784
WIRE -864 -656 -864 -912
WIRE -304 -640 -304 -688
WIRE 32 -640 32 -768
WIRE 32 -640 -304 -640
WIRE -560 -608 -560 -688
WIRE -768 -576 -800 -576
WIRE -624 -560 -672 -560
WIRE 32 -560 32 -640
WIRE -768 -512 -768 -576
WIRE -560 -480 -560 -512
WIRE 32 -416 32 -480
WIRE 224 -416 32 -416
WIRE -864 -400 -864 -496
WIRE -768 -400 -768 -432
WIRE -768 -400 -864 -400
WIRE -432 -400 -432 -864
WIRE -672 -368 -672 -560
WIRE -672 -368 -1136 -368
WIRE 32 -352 32 -416
WIRE -1136 -304 -1136 -368
WIRE -560 -224 -560 -256
WIRE 32 -208 32 -272
WIRE 32 -208 -48 -208
WIRE -1136 -192 -1136 -224
WIRE -672 -176 -672 -368
WIRE -624 -176 -672 -176
WIRE 32 -176 32 -208
WIRE -48 -96 -48 -208
WIRE -16 -96 -48 -96
WIRE -560 -48 -560 -128
WIRE 32 0 32 -80
WIRE 32 0 -304 0
WIRE -304 96 -304 0
WIRE 32 112 32 0
WIRE -560 144 -560 32
WIRE -432 144 -432 -336
WIRE -432 144 -560 144
WIRE -368 144 -432 144
WIRE -864 176 -864 -400
WIRE -720 176 -864 176
WIRE -192 192 -304 192
WIRE -16 192 -112 192
WIRE -864 208 -864 176
WIRE -560 208 -560 144
WIRE -304 240 -304 192
WIRE -720 256 -720 176
WIRE -720 256 -800 256
WIRE -624 256 -720 256
WIRE -864 352 -864 304
WIRE -560 352 -560 304
WIRE -304 352 -304 320
WIRE 32 352 32 208
WIRE 32 352 -304 352
WIRE 32 384 32 352
WIRE -864 464 -864 432
WIRE -720 464 -864 464
WIRE -560 464 -560 432
WIRE -560 464 -720 464
WIRE -720 496 -720 464
FLAG -1296 -1040 0
FLAG -1296 -1120 VEE
IOPIN -1296 -1120 Out
FLAG -1168 -1040 0
FLAG -1168 -1120 VCC
IOPIN -1168 -1120 Out
FLAG 368 -352 out
IOPIN 368 -352 Out
FLAG 368 -272 0
FLAG 224 -416 out
IOPIN 224 -416 Out
FLAG 32 -1024 VCC
IOPIN 32 -1024 In
FLAG 32 384 VEE
IOPIN 32 384 In
FLAG -1136 -192 0
FLAG -560 -480 VEE
IOPIN -560 -480 In
FLAG -560 -256 VCC
IOPIN -560 -256 In
FLAG -720 -1248 VCC
IOPIN -720 -1248 In
FLAG -720 496 VEE
IOPIN -720 496 In
SYMBOL voltage -1296 -1136 R0
SYMATTR InstName V2
SYMATTR Value -15
SYMBOL voltage -1168 -1136 R0
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL res 352 -368 R0
SYMATTR InstName R16
SYMATTR Value {Rload}
SYMBOL nmos -16 -864 R0
SYMATTR InstName M1
SYMATTR Value IRF510
SYMATTR Prefix X
SYMBOL nmos -16 112 R0
SYMATTR InstName M2
SYMATTR Value IRF510
SYMATTR Prefix X
SYMBOL res -320 224 R0
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res -320 -784 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 16 -576 R0
SYMATTR InstName R2
SYMATTR Value 0.22
SYMBOL res 16 -368 R0
SYMATTR InstName R3
SYMATTR Value 0.22
SYMBOL nmos -16 -176 R0
SYMATTR InstName M3
SYMATTR Value IRF510
SYMATTR Prefix X
SYMBOL voltage -1136 -320 R0
SYMATTR InstName V6
SYMATTR Value SINE(0 1 {Fin})
SYMATTR Value2 AC 1
SYMBOL npn -624 -224 R0
SYMATTR InstName Q2
SYMATTR Value BC547C
SYMBOL pnp -624 -512 M180
SYMATTR InstName Q3
SYMATTR Value BC557C
SYMBOL res -576 -64 R0
SYMATTR InstName R4
SYMATTR Value {Rbias}
SYMBOL res -576 -784 R0
SYMATTR InstName R5
SYMATTR Value {Rbias}
SYMBOL pnp -800 -944 R180
SYMATTR InstName Q7
SYMATTR Value BC558C
SYMBOL res -880 -1200 R0
SYMATTR InstName R6
SYMATTR Value 120
SYMBOL res -576 -1200 R0
SYMATTR InstName R7
SYMATTR Value 120
SYMBOL res -880 336 R0
SYMATTR InstName R8
SYMATTR Value 120
SYMBOL res -576 336 R0
SYMATTR InstName R9
SYMATTR Value 120
SYMBOL Vreg/lm334 -864 -576 R0
SYMATTR InstName U1
SYMBOL res -784 -528 R0
SYMATTR InstName R10
SYMATTR Value {Rset}
SYMBOL npn -368 -912 R0
SYMATTR InstName Q1
SYMATTR Value BC548C
SYMBOL pnp -624 -944 M180
SYMATTR InstName Q6
SYMATTR Value BC558C
SYMBOL pnp -368 192 M180
SYMATTR InstName Q8
SYMATTR Value BC558C
SYMBOL npn -624 208 R0
SYMATTR InstName Q4
SYMATTR Value BC548C
SYMBOL npn -800 208 M0
SYMATTR InstName Q5
SYMATTR Value BC548C
SYMBOL cap -448 -400 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL res -96 -800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL res -96 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100
TEXT -1408 -912 Left 2 !.inc irf510.lib\n.options plotwinsize=0\n.option numdgt=7\n.param Fin = 1k\n.tran 0 {100/Fin} 0 1us\n.four {Fin} V(out)
TEXT 216 -216 Left 2 !*.step param Rload list 18 32 250\n.param Rload = 18\n.param Iset = 5mA\n.param Rset = (273.15+25)*227e-6/Iset\n.param Vbias = 4\n.param Rbias = Vbias/Iset

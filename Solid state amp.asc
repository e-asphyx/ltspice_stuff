Version 4
SHEET 1 2088 1352
WIRE -32 -192 -32 -272
WIRE -32 -192 -144 -192
WIRE 96 -192 -32 -192
WIRE -144 -144 -144 -192
WIRE 96 -144 96 -192
WIRE 1344 -80 1344 -144
WIRE 1344 -80 1008 -80
WIRE -800 -32 -800 -48
WIRE -608 -32 -608 -48
WIRE 1008 -32 1008 -80
WIRE -144 -16 -144 -64
WIRE 96 -16 96 -64
WIRE 944 16 864 16
WIRE 1344 16 1344 -80
WIRE -32 32 -80 32
WIRE 32 32 -32 32
WIRE -800 64 -800 48
WIRE -608 64 -608 48
WIRE 1008 96 1008 64
WIRE 1120 96 1008 96
WIRE 1296 96 1200 96
WIRE 1008 112 1008 96
WIRE -32 128 -32 32
WIRE 96 128 96 80
WIRE 96 128 -32 128
WIRE 608 144 608 -128
WIRE -144 192 -144 80
WIRE 480 192 -144 192
WIRE 544 192 480 192
WIRE 1008 240 1008 192
WIRE 1344 240 1344 112
WIRE 1344 240 1008 240
WIRE 480 256 480 192
WIRE 1344 320 1344 240
WIRE 480 368 480 320
WIRE 608 368 608 240
WIRE 608 368 480 368
WIRE 736 368 608 368
WIRE 864 368 864 16
WIRE 864 368 736 368
WIRE 736 400 736 368
WIRE -144 432 -144 192
WIRE 96 432 96 128
WIRE 1344 464 1344 400
WIRE 1536 464 1344 464
WIRE -208 480 -336 480
WIRE 256 480 160 480
WIRE 320 480 256 480
WIRE 448 480 400 480
WIRE 608 480 608 368
WIRE 736 512 736 480
WIRE 736 512 640 512
WIRE 1344 528 1344 464
WIRE 256 544 256 480
WIRE 736 576 736 512
WIRE -544 608 -544 592
WIRE 1344 672 1344 608
WIRE 1344 672 1264 672
WIRE -144 688 -144 528
WIRE -32 688 -144 688
WIRE 96 688 96 528
WIRE 96 688 -32 688
WIRE 608 688 608 544
WIRE 736 688 736 656
WIRE 736 688 608 688
WIRE 864 688 736 688
WIRE -544 704 -544 688
WIRE 1344 704 1344 672
WIRE 256 768 256 624
WIRE 1264 784 1264 672
WIRE 1296 784 1264 784
WIRE 608 816 608 688
WIRE -32 832 -32 688
WIRE 1344 880 1344 800
WIRE 1344 880 1008 880
WIRE 704 896 672 896
WIRE 64 912 32 912
WIRE 704 960 704 896
WIRE 64 976 64 912
WIRE 1008 976 1008 880
WIRE 1344 992 1344 880
WIRE 864 1024 864 688
WIRE 944 1024 864 1024
WIRE 608 1072 608 976
WIRE 704 1072 704 1040
WIRE 704 1072 608 1072
WIRE 1120 1072 1008 1072
WIRE 1296 1072 1200 1072
WIRE -32 1088 -32 992
WIRE 64 1088 64 1056
WIRE 64 1088 -32 1088
WIRE 1008 1120 1008 1072
WIRE -32 1168 -32 1088
WIRE 1008 1232 1008 1200
WIRE 1344 1232 1344 1088
WIRE 1344 1232 1008 1232
WIRE 608 1264 608 1072
WIRE 1344 1264 1344 1232
FLAG -32 -272 VCC
IOPIN -32 -272 In
FLAG -336 480 in
IOPIN -336 480 In
FLAG -32 1168 VEE
IOPIN -32 1168 In
FLAG -800 64 0
FLAG -800 -48 VCC
IOPIN -800 -48 Out
FLAG -608 64 0
FLAG -608 -48 VEE
IOPIN -608 -48 Out
FLAG -544 704 0
FLAG -544 592 in
IOPIN -544 592 Out
FLAG 608 1264 VEE
IOPIN 608 1264 In
FLAG 608 -128 VCC
IOPIN 608 -128 In
FLAG 1680 528 out
IOPIN 1680 528 Out
FLAG 1680 608 0
FLAG 1536 464 out
IOPIN 1536 464 Out
FLAG 1344 -144 VCC
IOPIN 1344 -144 In
FLAG 1344 1264 VEE
IOPIN 1344 1264 In
FLAG 256 768 0
FLAG 448 480 out
IOPIN 448 480 In
SYMBOL npn -208 432 R0
SYMATTR InstName Q2
SYMATTR Value BC550C
SYMBOL pnp -80 80 R180
SYMATTR InstName Q3
SYMATTR Value BC560C
SYMBOL pnp 32 80 M180
SYMATTR InstName Q4
SYMATTR Value BC560C
SYMBOL res -160 -160 R0
SYMATTR InstName R1
SYMATTR Value 120
SYMBOL res 80 -160 R0
SYMATTR InstName R2
SYMATTR Value 120
SYMBOL Vreg/lm334 -32 912 R0
SYMATTR InstName U1
SYMBOL res 48 960 R0
SYMATTR InstName R3
SYMATTR Value {Rdif}
SYMBOL voltage -800 -48 R0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -608 -48 R0
SYMATTR InstName V2
SYMATTR Value -15
SYMBOL voltage -544 592 R0
SYMATTR InstName V3
SYMATTR Value SINE(0 0.4 1k)
SYMATTR Value2 AC 1
SYMBOL Vreg/lm334 608 896 R0
SYMATTR InstName U2
SYMBOL res 688 944 R0
SYMATTR InstName R5
SYMATTR Value {Rvas}
SYMBOL res 1664 512 R0
SYMATTR InstName R4
SYMATTR Value {Rload}
SYMBOL nmos 1296 16 R0
SYMATTR InstName M1
SYMATTR Value IRF510
SYMATTR Prefix X
SYMBOL nmos 1296 992 R0
SYMATTR InstName M2
SYMATTR Value IRF510
SYMATTR Prefix X
SYMBOL res 992 1104 R0
SYMATTR InstName R6
SYMATTR Value 510
SYMBOL res 992 96 R0
SYMATTR InstName R7
SYMATTR Value 510
SYMBOL res 1328 304 R0
SYMATTR InstName R8
SYMATTR Value 0.22
SYMBOL res 1328 512 R0
SYMATTR InstName R9
SYMATTR Value 0.22
SYMBOL nmos 1296 704 R0
SYMATTR InstName M3
SYMATTR Value IRF510
SYMATTR Prefix X
SYMBOL res 1216 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL res 1216 1056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL References_Add/TLV431 608 512 R0
SYMATTR InstName U3
SYMBOL res 720 384 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 720 560 R0
SYMATTR InstName R13
SYMATTR Value 1.43k
SYMBOL cap 464 256 R0
SYMATTR InstName C1
SYMATTR Value 470p
SYMBOL res 240 528 R0
SYMATTR InstName R16
SYMATTR Value 2.49k
SYMBOL res 416 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL npn 160 432 M0
SYMATTR InstName Q1
SYMATTR Value BC550C
SYMBOL pnp 544 240 M180
SYMATTR InstName Q5
SYMATTR Value BC560C
SYMBOL pnp 944 1072 M180
SYMATTR InstName Q7
SYMATTR Value BC560C
SYMBOL npn 944 -32 R0
SYMATTR InstName Q6
SYMATTR Value BC550C
TEXT -624 888 Left 2 !.param Idif = 4mA\n.param Ivas = 10mA\n.param Rdif = (273.15+25)*227e-6/Idif\n.param Rvas = (273.15+25)*227e-6/Ivas
TEXT -872 -376 Left 2 !.inc irf510.lib\n.options plotwinsize=0\n.option numdgt=7\n.param Fin = 1k\n.tran 0 {10/Fin} 0 1us\n.four {Fin} V(out)\n*.ac dec 100 10 1Meg
TEXT 1528 664 Left 2 !*.step param Rload list 18 32 250\n.param Rload = 18

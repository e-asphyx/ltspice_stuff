Version 4
SHEET 1 2184 2000
WIRE 784 -288 784 -352
WIRE 784 -288 656 -288
WIRE 896 -288 784 -288
WIRE 656 -240 656 -288
WIRE 896 -240 896 -288
WIRE -176 -192 -176 -272
WIRE -176 -192 -288 -192
WIRE -48 -192 -176 -192
WIRE -288 -144 -288 -192
WIRE -48 -144 -48 -192
WIRE 656 -112 656 -160
WIRE 896 -112 896 -160
WIRE 1632 -80 1632 -144
WIRE 1632 -80 1296 -80
WIRE 768 -64 720 -64
WIRE 832 -64 768 -64
WIRE -944 -32 -944 -48
WIRE -752 -32 -752 -48
WIRE 1296 -32 1296 -80
WIRE -288 -16 -288 -64
WIRE -48 -16 -48 -64
WIRE 1232 16 1152 16
WIRE 1632 16 1632 -80
WIRE -176 32 -224 32
WIRE -112 32 -176 32
WIRE 768 32 768 -64
WIRE 896 32 896 -16
WIRE 896 32 768 32
WIRE -944 64 -944 48
WIRE -752 64 -752 48
WIRE 1296 96 1296 64
WIRE 1408 96 1296 96
WIRE 1584 96 1488 96
WIRE 896 112 896 32
WIRE 1296 112 1296 96
WIRE -176 128 -176 32
WIRE -48 128 -48 80
WIRE -48 128 -176 128
WIRE 656 160 656 -16
WIRE 832 160 656 160
WIRE 656 192 656 160
WIRE -288 240 -288 80
WIRE 560 240 -288 240
WIRE 592 240 560 240
WIRE 1296 240 1296 192
WIRE 1632 240 1632 112
WIRE 1632 240 1296 240
WIRE 1632 320 1632 240
WIRE 560 368 560 240
WIRE 752 368 560 368
WIRE 896 368 896 208
WIRE 896 368 816 368
WIRE 1024 368 896 368
WIRE 1152 368 1152 16
WIRE 1152 368 1024 368
WIRE 1024 400 1024 368
WIRE -288 432 -288 240
WIRE -48 432 -48 128
WIRE 1632 464 1632 400
WIRE 1824 464 1632 464
WIRE -352 480 -480 480
WIRE 112 480 16 480
WIRE 176 480 112 480
WIRE 304 480 256 480
WIRE 896 480 896 368
WIRE 656 496 656 288
WIRE 1024 512 1024 480
WIRE 1024 512 928 512
WIRE 1632 528 1632 464
WIRE -288 576 -288 528
WIRE -48 576 -48 528
WIRE 1024 576 1024 512
WIRE -688 608 -688 592
WIRE 1632 672 1632 608
WIRE 1632 672 1552 672
WIRE -288 688 -288 656
WIRE -176 688 -288 688
WIRE -48 688 -48 656
WIRE -48 688 -176 688
WIRE 112 688 112 480
WIRE 256 688 112 688
WIRE 896 688 896 544
WIRE 1024 688 1024 656
WIRE 1024 688 896 688
WIRE 1152 688 1024 688
WIRE -688 704 -688 688
WIRE 400 704 352 704
WIRE 496 704 464 704
WIRE 528 704 496 704
WIRE 624 704 608 704
WIRE 1632 704 1632 672
WIRE 112 736 112 688
WIRE 256 736 256 688
WIRE 1552 784 1552 672
WIRE 1584 784 1552 784
WIRE 896 816 896 688
WIRE -176 832 -176 688
WIRE 496 848 496 704
WIRE 496 848 480 848
WIRE 256 864 256 816
WIRE 352 864 352 704
WIRE 352 864 256 864
WIRE 416 864 352 864
WIRE 112 880 112 816
WIRE 496 880 480 880
WIRE 528 880 496 880
WIRE 688 880 608 880
WIRE 1632 880 1632 800
WIRE 1632 880 1296 880
WIRE 992 896 960 896
WIRE -80 912 -112 912
WIRE 496 944 496 880
WIRE 992 960 992 896
WIRE -80 976 -80 912
WIRE 1296 976 1296 880
WIRE 1632 992 1632 880
WIRE 496 1024 496 1008
WIRE 1152 1024 1152 688
WIRE 1232 1024 1152 1024
WIRE 896 1072 896 976
WIRE 992 1072 992 1040
WIRE 992 1072 896 1072
WIRE 1408 1072 1296 1072
WIRE 1584 1072 1488 1072
WIRE -176 1088 -176 992
WIRE -80 1088 -80 1056
WIRE -80 1088 -176 1088
WIRE 1296 1120 1296 1072
WIRE -176 1168 -176 1088
WIRE 1296 1232 1296 1200
WIRE 1632 1232 1632 1088
WIRE 1632 1232 1296 1232
WIRE 896 1264 896 1072
WIRE 1632 1264 1632 1232
FLAG -176 -272 VCC
IOPIN -176 -272 In
FLAG -480 480 in
IOPIN -480 480 In
FLAG -176 1168 VEE
IOPIN -176 1168 In
FLAG -944 64 0
FLAG -944 -48 VCC
IOPIN -944 -48 Out
FLAG -752 64 0
FLAG -752 -48 VEE
IOPIN -752 -48 Out
FLAG -688 704 0
FLAG -688 592 in
IOPIN -688 592 Out
FLAG 896 1264 VEE
IOPIN 896 1264 In
FLAG 784 -352 VCC
IOPIN 784 -352 In
FLAG 1968 528 out
IOPIN 1968 528 Out
FLAG 1968 608 0
FLAG 1824 464 out
IOPIN 1824 464 Out
FLAG 1632 -144 VCC
IOPIN 1632 -144 In
FLAG 1632 1264 VEE
IOPIN 1632 1264 In
FLAG 112 880 0
FLAG 304 480 out
IOPIN 304 480 In
FLAG 656 496 VEE
IOPIN 656 496 In
FLAG 448 896 VEE
FLAG 448 832 VCC
FLAG 624 704 0
FLAG 496 1024 0
FLAG 688 880 out
IOPIN 688 880 In
SYMBOL npn -352 432 R0
SYMATTR InstName Q2
SYMATTR Value BC550C
SYMBOL pnp -224 80 R180
SYMATTR InstName Q3
SYMATTR Value BC560C
SYMBOL pnp -112 80 M180
SYMATTR InstName Q4
SYMATTR Value BC560C
SYMBOL res -304 -160 R0
SYMATTR InstName R1
SYMATTR Value 68
SYMBOL res -64 -160 R0
SYMATTR InstName R2
SYMATTR Value 68
SYMBOL Vreg/lm334 -176 912 R0
SYMATTR InstName U1
SYMBOL res -96 960 R0
SYMATTR InstName R3
SYMATTR Value {Rdif}
SYMBOL voltage -944 -48 R0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -752 -48 R0
SYMATTR InstName V2
SYMATTR Value -12
SYMBOL voltage -688 592 R0
SYMATTR InstName V3
SYMATTR Value SINE(0 0.4 1k)
SYMATTR Value2 AC 1
SYMBOL Vreg/lm334 896 896 R0
SYMATTR InstName U2
SYMBOL res 976 944 R0
SYMATTR InstName R5
SYMATTR Value {Rvas}
SYMBOL res 1952 512 R0
SYMATTR InstName R4
SYMATTR Value {Rload}
SYMBOL nmos 1584 16 R0
SYMATTR InstName M1
SYMATTR Value IRF510
SYMATTR Prefix X
SYMBOL nmos 1584 992 R0
SYMATTR InstName M2
SYMATTR Value IRF510
SYMATTR Prefix X
SYMBOL res 1280 1104 R0
SYMATTR InstName R6
SYMATTR Value 510
SYMBOL res 1280 96 R0
SYMATTR InstName R7
SYMATTR Value 510
SYMBOL res 1616 304 R0
SYMATTR InstName R8
SYMATTR Value 0.22
SYMBOL res 1616 512 R0
SYMATTR InstName R9
SYMATTR Value 0.22
SYMBOL nmos 1584 704 R0
SYMATTR InstName M3
SYMATTR Value IRF510
SYMATTR Prefix X
SYMBOL res 1504 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL res 1504 1056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL References_Add/TLV431 896 512 R0
SYMATTR InstName U3
SYMBOL res 1008 384 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 1008 560 R0
SYMATTR InstName R13
SYMATTR Value 1.43k
SYMBOL cap 816 352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL res 96 720 R0
SYMATTR InstName R16
SYMATTR Value 4.99k
SYMBOL res 272 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL npn 16 432 M0
SYMATTR InstName Q1
SYMATTR Value BC550C
SYMBOL pnp 832 208 M180
SYMATTR InstName Q5
SYMATTR Value BC560C
SYMBOL pnp 1232 1072 M180
SYMATTR InstName Q7
SYMATTR Value BC560C
SYMBOL npn 1232 -32 R0
SYMATTR InstName Q6
SYMATTR Value BC550C
SYMBOL res -304 560 R0
SYMATTR InstName R14
SYMATTR Value 56
SYMBOL res -64 560 R0
SYMATTR InstName R15
SYMATTR Value 56
SYMBOL pnp 720 -16 R180
SYMATTR InstName Q8
SYMATTR Value BC560C
SYMBOL pnp 832 -16 M180
SYMATTR InstName Q9
SYMATTR Value BC560C
SYMBOL res 640 -256 R0
SYMATTR InstName R18
SYMATTR Value 33
SYMBOL res 880 -256 R0
SYMATTR InstName R19
SYMATTR Value 33
SYMBOL pnp 592 288 M180
SYMATTR InstName Q10
SYMATTR Value BC560C
SYMBOL Opamps/LT1057 448 800 M0
SYMATTR InstName U4
SYMBOL res 512 720 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R20
SYMATTR Value 1Meg
SYMBOL res 512 896 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R21
SYMATTR Value 1Meg
SYMBOL cap 464 688 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL cap 512 1008 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL res 240 720 R0
SYMATTR InstName R22
SYMATTR Value 4.99k
TEXT -768 888 Left 2 !.param Idif = 6mA\n.param Ivas = 10mA\n.param Rdif = (273.15+25)*227e-6/Idif\n.param Rvas = (273.15+25)*227e-6/Ivas\n.meas tran Rd param Rdif\n.meas tran Rv param Rvas
TEXT -1016 -376 Left 2 !.inc irf510.lib\n.options plotwinsize=0\n.option numdgt=7\n.param Fin = 1k\n.tran 0 {10/Fin} 0 1us\n.four {Fin} V(out)\n*.ac dec 100 10 1Meg
TEXT 1816 664 Left 2 !*.step param Rload list 18 32 250\n.param Rload = 18
